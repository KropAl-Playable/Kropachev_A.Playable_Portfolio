:root {
  --bg:#fff; --text:#111; --muted:#6b7280; --card:#f7f7f9; --border:#e5e7eb;
  --primary:#2563eb; --primary-fg:#fff; --shadow:0 6px 20px rgba(0,0,0,.08); --radius:16px; --tap:44px;
}
@media (prefers-color-scheme: dark) {
  :root { --bg:#0b0b0f; --text:#e6e6e6; --muted:#9aa1ad; --card:#11131a; --border:#1f2230; --shadow:0 10px 24px rgba(0,0,0,.4); }
}
*{box-sizing:border-box}
body{margin:0; font:16px/1.5 system-ui, -apple-system, Segoe UI, Roboto, sans-serif; background:var(--bg); color:var(--text)}
img,video{max-width:100%; display:block}
.site-header,.site-footer{display:flex; align-items:center; justify-content:space-between; padding:12px 16px; border-bottom:1px solid var(--border)}
.site-footer{border-top:1px solid var(--border); border-bottom:none}
.brand{color:var(--text); text-decoration:none}
.btn{min-height:var(--tap); padding:10px 14px; border-radius:12px; border:1px solid var(--border); background:var(--card); color:var(--text); box-shadow:var(--shadow)}
.btn.primary{background:var(--primary); color:var(--primary-fg); border-color:transparent}
.btn.icon{width:var(--tap); height:var(--tap); display:inline-grid; place-items:center}
.btn.ghost{background:transparent}
.controls{display:grid; gap:12px; padding:12px 16px; border-bottom:1px solid var(--border)}
.filters{display:flex; gap:8px; flex-wrap:wrap}
.chip{padding:8px 10px; border-radius:999px; border:1px solid var(--border); background:var(--bg)}
.chip.is-active, .chip:focus-visible{outline:2px solid var(--primary); border-color:transparent}
.sort-search{display:flex; gap:8px; flex-wrap:wrap; align-items:center}
.input,.select{min-height:var(--tap); padding:10px 12px; border-radius:10px; border:1px solid var(--border); background:var(--bg); color:var(--text)}
:focus-visible{outline:3px solid var(--primary); outline-offset:2px}

/* Carousel */
.carousel{position:relative; padding:12px 16px}
.track-viewport{overflow:hidden; border:1px solid var(--border); border-radius:20px; background:var(--card)}
.track{display:flex; gap:12px; padding:12px; margin:0; list-style:none; touch-action: pan-y; will-change: transform}
.slide{flex:0 0 84%; max-width:84%; background:var(--bg); border:1px solid var(--border); border-radius:16px; overflow:hidden; box-shadow:var(--shadow); display:flex; flex-direction:column}
@media (min-width: 768px){ .slide{flex-basis:46%; max-width:46%} }
@media (min-width: 1200px){ .slide{flex-basis:32%; max-width:32%} }
.slide__media{position:relative; aspect-ratio: 9/16; background:#0e0f13}
.slide__body{padding:12px; display:grid; gap:8px}
.slide__title{margin:0; font-size:clamp(14px, 2.5cqi, 18px)}
.slide__tags{display:flex; gap:6px; flex-wrap:wrap}
.tag{font-size:12px; padding:4px 8px; border-radius:999px; background: rgba(0,0,0,.05)}
@media (prefers-color-scheme: dark){ .tag{background: rgba(255,255,255,.06)} }
.nav{position:absolute; top:50%; transform:translateY(-50%); border:none; background:rgba(0,0,0,.5); color:#fff; width:44px; height:44px; border-radius:50%}
.prev{left:20px} .next{right:20px}
.dots{display:flex; gap:6px; justify-content:center; padding:10px}
.dot{width:10px; height:10px; border-radius:50%; background: rgba(0,0,0,.15)} .dot.is-active{background: var(--primary)}

/* Lightbox */
.lightbox[aria-hidden="true"]{display:none}
.lightbox{position:fixed; inset:0; z-index:50}
.lightbox__backdrop{position:absolute; inset:0; background:rgba(0,0,0,.6)}
.lightbox__dialog{position:relative; z-index:1; max-width:min(960px,96vw); max-height:90vh; margin:4vh auto; background:var(--bg); border-radius:20px; overflow:hidden; display:grid; grid-template-rows:auto 1fr auto; border:1px solid var(--border); box-shadow:var(--shadow)}
.lightbox__header,.lightbox__footer{padding:12px; display:flex; align-items:center; justify-content:space-between; gap:8px}
.lightbox__body{padding:12px; display:grid; gap:12px}
#playableFrame,#playableCanvas,#playableVideo{width:100%; height:min(72vh,80dvh); border:0; border-radius:16px; background:#000}
